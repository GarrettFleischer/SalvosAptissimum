<HTML><HEAD>
<meta name="description" content="Main window for this application"/>
<meta name="author" content="Generated by the New Vision2 Application Wizard."/>
<meta name="date" content="$Date: 2016/5/14 17:44:54 $"/>
<meta name="revision" content="1.0.0"/>
<meta name="keywords" content="Eiffel class"/>
<meta name="keywords" content="Eiffel class"/>
<TITLE>main_window Text</TITLE></HEAD>
<BODY BGCOLOR="white">
<P ALIGN="CENTER">Automatic generation produced by ISE Eiffel</P>
<PRE><TABLE BORDER="1" ALIGN="CENTER"><TR><TD><A HREF="../class_list.html">Classes</A></TD><TD><A HREF="../cluster_list.html">Clusters</A></TD><TD><A HREF="../cluster_hierarchy.html">Cluster hierarchy</A></TD><TD><A HREF="main_window_chart.html">Chart</A></TD><TD><A HREF="main_window_links.html">Relations</A></TD><TD>Text</TD></TR></TABLE><B>note</B>
    description: "Main window for this application"
    author: "Generated by the New Vision2 Application Wizard."
    date: "$Date: 2016/5/14 17:44:54 $"
    revision: "1.0.0"

<B>class</B> 
    <A HREF="../root_cluster/main_window.html">MAIN_WINDOW</A>

<B>inherit</B>
    EV_TITLED_WINDOW
        <B>redefine</B>
            <A HREF="../root_cluster/main_window.html#f_create_interface_objects">create_interface_objects</A>,
            <A HREF="../root_cluster/main_window.html#f_initialize">initialize</A>,
            <A HREF="../root_cluster/main_window.html#f_is_in_default_state">is_in_default_state</A>
        <B>end</B>

    <A HREF="../root_cluster/interface_names.html">INTERFACE_NAMES</A>
        <B>export</B>
            {NONE} <B>all</B>
        <B>undefine</B>
            default_create,
            copy
        <B>end</B>

<B>create</B> 
    default_create

<B>feature</B> {NONE} <FONT COLOR="red">--</FONT><FONT COLOR="red"> Initialization</FONT>

    <A NAME="f_create_interface_objects"><A HREF="../root_cluster/main_window.html#f_create_interface_objects">create_interface_objects</A>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Create objects to be used by </FONT>`Current'<FONT COLOR="red"> in </FONT><A HREF="../root_cluster/main_window.html#f_initialize">initialize</A>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Implemented by descendants to create attached objects</FONT>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> in order to adhere to void-safety due to the implementation bridge pattern.</FONT>
        <B>do</B>
            <B>create</B> <A HREF="../root_cluster/main_window.html#f_main_container">main_container</A>
            <B>create</B> <A HREF="../root_cluster/main_window.html#f_standard_toolbar">standard_toolbar</A>
            <B>create</B> <A HREF="../root_cluster/main_window.html#f_standard_status_bar">standard_status_bar</A>
            <B>create</B> <A HREF="../root_cluster/main_window.html#f_standard_status_label">standard_status_label</A>.make_with_text ("No connection...")
            <B>create</B> <A HREF="../root_cluster/main_window.html#f_prim_log">prim_log</A>
            <B>create</B> <A HREF="../root_cluster/main_window.html#f_prim_command">prim_command</A>
            <B>create</B> <A HREF="../root_cluster/main_window.html#f_prim_map">prim_map</A>
        <B>end</B></A>

    <A NAME="f_initialize"><A HREF="../root_cluster/main_window.html#f_initialize">initialize</A>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Build the interface for this window.</FONT>
        <B>do</B>
            <B>Precursor</B> {EV_TITLED_WINDOW}
            <A HREF="../root_cluster/main_window.html#f_build_standard_toolbar">build_standard_toolbar</A>
            upper_bar.extend (<B>create</B> {EV_HORIZONTAL_SEPARATOR})
            upper_bar.extend (<A HREF="../root_cluster/main_window.html#f_standard_toolbar">standard_toolbar</A>)
            <A HREF="../root_cluster/main_window.html#f_build_standard_status_bar">build_standard_status_bar</A>
            lower_bar.extend (<A HREF="../root_cluster/main_window.html#f_standard_status_bar">standard_status_bar</A>)
            <A HREF="../root_cluster/main_window.html#f_build_main_container">build_main_container</A>
            extend (<A HREF="../root_cluster/main_window.html#f_main_container">main_container</A>)
            close_request_actions.extend (<B>agent</B> <A HREF="../root_cluster/main_window.html#f_request_close_window">request_close_window</A>)
            set_title (<A HREF="../root_cluster/main_window.html#f_window_title">Window_title</A>)
            set_size (<A HREF="../root_cluster/main_window.html#f_window_width">Window_width</A>, <A HREF="../root_cluster/main_window.html#f_window_height">Window_height</A>)
        <B>end</B></A>

    <A NAME="f_is_in_default_state"><A HREF="../root_cluster/main_window.html#f_is_in_default_state">is_in_default_state</A>: BOOLEAN
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Is the window in its default state?</FONT>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> (as stated in </FONT><A HREF="../root_cluster/main_window.html#f_initialize">initialize</A><FONT COLOR="red">)</FONT>
        <B>do</B>
            <B>Result</B> := (width = <A HREF="../root_cluster/main_window.html#f_window_width">Window_width</A>) <B>and then</B> (height = <A HREF="../root_cluster/main_window.html#f_window_height">Window_height</A>) <B>and then</B> (title.is_equal (<A HREF="../root_cluster/main_window.html#f_window_title">Window_title</A>.as_string_32))
        <B>end</B></A>
    
<B>feature</B> {NONE} <FONT COLOR="red">--</FONT><FONT COLOR="red"> ToolBar Implementation</FONT>

    <A NAME="f_standard_toolbar"><A HREF="../root_cluster/main_window.html#f_standard_toolbar">standard_toolbar</A>: EV_TOOL_BAR</A>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Standard toolbar for this window.</FONT>

    <A NAME="f_build_standard_toolbar"><A HREF="../root_cluster/main_window.html#f_build_standard_toolbar">build_standard_toolbar</A>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Populate the standard toolbar.</FONT>
        <B>local</B>
            toolbar_item: EV_TOOL_BAR_BUTTON
            toolbar_pixmap: EV_PIXMAP
        <B>do</B>
            <B>create</B> toolbar_item
            <B>create</B> toolbar_pixmap
            toolbar_pixmap.set_with_named_file ("Images/new.png")
            toolbar_item.set_pixmap (toolbar_pixmap)
            <A HREF="../root_cluster/main_window.html#f_standard_toolbar">standard_toolbar</A>.extend (toolbar_item)
            <B>create</B> toolbar_item
            <B>create</B> toolbar_pixmap
            toolbar_pixmap.set_with_named_file ("Images/open.png")
            toolbar_item.set_pixmap (toolbar_pixmap)
            <A HREF="../root_cluster/main_window.html#f_standard_toolbar">standard_toolbar</A>.extend (toolbar_item)
            <B>create</B> toolbar_item
            <B>create</B> toolbar_pixmap
            toolbar_pixmap.set_with_named_file ("Images/save.png")
            toolbar_item.set_pixmap (toolbar_pixmap)
            <A HREF="../root_cluster/main_window.html#f_standard_toolbar">standard_toolbar</A>.extend (toolbar_item)
        <B>ensure</B>
            toolbar_initialized: <B>not</B> <A HREF="../root_cluster/main_window.html#f_standard_toolbar">standard_toolbar</A>.is_empty
        <B>end</B></A>
    
<B>feature</B> {NONE} <FONT COLOR="red">--</FONT><FONT COLOR="red"> StatusBar Implementation</FONT>

    <A NAME="f_standard_status_bar"><A HREF="../root_cluster/main_window.html#f_standard_status_bar">standard_status_bar</A>: EV_STATUS_BAR</A>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Standard status bar for this window</FONT>

    <A NAME="f_standard_status_label"><A HREF="../root_cluster/main_window.html#f_standard_status_label">standard_status_label</A>: EV_LABEL</A>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Label situated in the standard status bar.</FONT>
            <FONT COLOR="red">--</FONT>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Note: Call </FONT>`standard_status_label.set_text (...)'<FONT COLOR="red"> to change the text</FONT>
            <FONT COLOR="red">--</FONT><FONT COLOR="red">       displayed in the status bar.</FONT>

    <A NAME="f_build_standard_status_bar"><A HREF="../root_cluster/main_window.html#f_build_standard_status_bar">build_standard_status_bar</A>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Populate the standard toolbar.</FONT>
        <B>do</B>
            <A HREF="../root_cluster/main_window.html#f_standard_status_bar">standard_status_bar</A>.set_border_width (2)
            <A HREF="../root_cluster/main_window.html#f_standard_status_label">standard_status_label</A>.align_text_left
            <A HREF="../root_cluster/main_window.html#f_standard_status_bar">standard_status_bar</A>.extend (<A HREF="../root_cluster/main_window.html#f_standard_status_label">standard_status_label</A>)
        <B>end</B></A>
    
<B>feature</B> {NONE} <FONT COLOR="red">--</FONT><FONT COLOR="red"> About Dialog Implementation</FONT>

    <A NAME="f_on_about"><A HREF="../root_cluster/main_window.html#f_on_about">on_about</A>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Display the About dialog.</FONT>
        <B>local</B>
            about_dialog: <A HREF="../root_cluster/about_dialog.html">ABOUT_DIALOG</A>
        <B>do</B>
            <B>create</B> about_dialog
            about_dialog.show_modal_to_window (<B>Current</B>)
        <B>end</B></A>
    
<B>feature</B> {NONE} <FONT COLOR="red">--</FONT><FONT COLOR="red"> Implementation, Close event</FONT>

    <A NAME="f_request_close_window"><A HREF="../root_cluster/main_window.html#f_request_close_window">request_close_window</A>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Process user request to close the window.</FONT>
        <B>local</B>
            question_dialog: EV_CONFIRMATION_DIALOG
        <B>do</B>
            <B>create</B> question_dialog.make_with_text (<A HREF="../root_cluster/interface_names.html#f_label_confirm_close_window">Label_confirm_close_window</A>)
            question_dialog.show_modal_to_window (<B>Current</B>)
            <B>if</B> question_dialog.selected_button ~ (<B>create</B> {EV_DIALOG_CONSTANTS}).ev_ok.as_string_32 <B>then</B>
                destroy
                <B>if</B> <B>attached</B> (<B>create</B> {EV_ENVIRONMENT}).application <B>as</B> a <B>then</B>
                    a.destroy
                <B>end</B>
            <B>end</B>
        <B>end</B></A>
    
<B>feature</B> {NONE} <FONT COLOR="red">--</FONT><FONT COLOR="red"> Implementation</FONT>

    <A NAME="f_main_container"><A HREF="../root_cluster/main_window.html#f_main_container">main_container</A>: EV_HORIZONTAL_BOX</A>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Main container (contains all widgets displayed in this window).</FONT>

    <A NAME="f_prim_log"><A HREF="../root_cluster/main_window.html#f_prim_log">prim_log</A>: EV_RICH_TEXT</A>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Log window</FONT>

    <A NAME="f_prim_command"><A HREF="../root_cluster/main_window.html#f_prim_command">prim_command</A>: EV_TEXT_FIELD</A>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Command text box</FONT>

    <A NAME="f_prim_map"><A HREF="../root_cluster/main_window.html#f_prim_map">prim_map</A>: EV_RICH_TEXT</A>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Map window</FONT>

    <A NAME="f_build_main_container"><A HREF="../root_cluster/main_window.html#f_build_main_container">build_main_container</A>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Populate main_container.</FONT>
        <B>local</B>
            log_command_container: EV_VERTICAL_BOX
            map_container: EV_VERTICAL_BOX
            prim_hsep: EV_HORIZONTAL_SEPARATOR
            prim_vsep: EV_VERTICAL_SEPARATOR
        <B>do</B>
            <B>create</B> log_command_container
            <B>create</B> map_container
            <B>create</B> prim_hsep
            <B>create</B> prim_vsep
            <A HREF="../root_cluster/main_window.html#f_prim_log">prim_log</A>.disable_edit
            <A HREF="../root_cluster/main_window.html#f_prim_map">prim_map</A>.disable_edit
            <A HREF="../root_cluster/main_window.html#f_prim_map">prim_map</A>.set_minimum_size (250, 200)
            log_command_container.extend (<A HREF="../root_cluster/main_window.html#f_prim_log">prim_log</A>)
            log_command_container.extend (prim_hsep)
            log_command_container.extend (<A HREF="../root_cluster/main_window.html#f_prim_command">prim_command</A>)
            log_command_container.disable_item_expand (prim_hsep)
            log_command_container.disable_item_expand (<A HREF="../root_cluster/main_window.html#f_prim_command">prim_command</A>)
            map_container.extend (<A HREF="../root_cluster/main_window.html#f_prim_map">prim_map</A>)
            map_container.disable_item_expand (<A HREF="../root_cluster/main_window.html#f_prim_map">prim_map</A>)
            <A HREF="../root_cluster/main_window.html#f_main_container">main_container</A>.extend (log_command_container)
            <A HREF="../root_cluster/main_window.html#f_main_container">main_container</A>.extend (prim_vsep)
            <A HREF="../root_cluster/main_window.html#f_main_container">main_container</A>.extend (map_container)
            <A HREF="../root_cluster/main_window.html#f_main_container">main_container</A>.disable_item_expand (prim_vsep)
            <A HREF="../root_cluster/main_window.html#f_main_container">main_container</A>.disable_item_expand (map_container)
            <A HREF="../root_cluster/main_window.html#f_main_container">main_container</A>.set_minimum_size (640, 480)
            <A HREF="../root_cluster/main_window.html#f_log_message">log_message</A> ("Test 1")
            <A HREF="../root_cluster/main_window.html#f_log_message">log_message</A> ("Test 2")
            <A HREF="../root_cluster/main_window.html#f_log_message">log_message</A> ("Test 3")
        <B>ensure</B>
            main_container_has_log: <A HREF="../root_cluster/main_window.html#f_main_container">main_container</A>.has_recursive (<A HREF="../root_cluster/main_window.html#f_prim_log">prim_log</A>)
            main_container_has_command: <A HREF="../root_cluster/main_window.html#f_main_container">main_container</A>.has_recursive (<A HREF="../root_cluster/main_window.html#f_prim_command">prim_command</A>)
            main_container_has_map: <A HREF="../root_cluster/main_window.html#f_main_container">main_container</A>.has_recursive (<A HREF="../root_cluster/main_window.html#f_prim_map">prim_map</A>)
        <B>end</B></A>

    <A NAME="f_log_message"><A HREF="../root_cluster/main_window.html#f_log_message">log_message</A> (msg: READABLE_STRING_GENERAL)
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Append message to prim_log</FONT>
        <B>do</B>
            <B>if</B> (<B>not</B> <A HREF="../root_cluster/main_window.html#f_prim_log">prim_log</A>.text.is_empty) <B>then</B>
                <A HREF="../root_cluster/main_window.html#f_prim_log">prim_log</A>.append_text ("%N")
            <B>end</B>
            <A HREF="../root_cluster/main_window.html#f_prim_log">prim_log</A>.append_text (msg)
        <B>ensure</B>
                <A HREF="../root_cluster/main_window.html#f_prim_log">prim_log</A>.text.has_substring (msg)
        <B>end</B></A>
    
<B>feature</B> {NONE} <FONT COLOR="red">--</FONT><FONT COLOR="red"> Implementation / Constants</FONT>

    <A NAME="f_window_title"><A HREF="../root_cluster/main_window.html#f_window_title">Window_title</A>: STRING_8 = "Salvos Aptissimum"</A>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Title of the window.</FONT>

    <A NAME="f_window_width"><A HREF="../root_cluster/main_window.html#f_window_width">Window_width</A>: INTEGER_32 = 1280</A>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Initial width for this window.</FONT>

    <A NAME="f_window_height"><A HREF="../root_cluster/main_window.html#f_window_height">Window_height</A>: INTEGER_32 = 720</A>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Initial height for this window.</FONT>
    
<B>end</B> <FONT COLOR="red">--</FONT> <FONT COLOR="red">class </FONT><A HREF="../root_cluster/main_window.html">MAIN_WINDOW</A><TABLE BORDER="1" ALIGN="CENTER"><TR><TD><A HREF="../class_list.html">Classes</A></TD><TD><A HREF="../cluster_list.html">Clusters</A></TD><TD><A HREF="../cluster_hierarchy.html">Cluster hierarchy</A></TD><TD><A HREF="main_window_chart.html">Chart</A></TD><TD><A HREF="main_window_links.html">Relations</A></TD><TD>Text</TD></TR></TABLE></PRE>
<P ALIGN="CENTER"> &#045;&#045; Generated by ISE Eiffel &#045;&#045 </P>
<P ALIGN="CENTER">For more details: <A HREF="http://www.eiffel.com">www.eiffel.com</A></P>
</BODY>
</HTML>

